const Discord = require('discord.js');

const Util = require('discord.js');

const getYoutubeID = require('get-youtube-id');

const fetchVideoInfo = require('youtube-info');

const YouTube = require('simple-youtube-api');

const youtube = new YouTube("AIzaSyB2AlcMM3pqfcVZwdoZTvCLFf0D3xe47yk");

const queue = new Map();

const ytdl = require('ytdl-core');

const fs = require('fs');

const gif = require("gif-search");

const client = new Discord.Client({disableEveryone: true});

const prefix = "#";
const adminprefix = "#";
/////////////////////////
////////////////////////


client.on('message', message => {
  let command = message.content.split(" ")[0].slice(prefix.length);
  let args = message.content.split(" ").slice(1);

  if(!message.content.toLowerCase().startsWith(prefix)) return;
  if(command == "sug") {
    if(!args.join(" ")) return message.channel.send(`**ÙŠØ±Ø¬ÙŠ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­ **`);
    let channel = message.guild.channels.find(c => c.name == "â—Šã€–â˜»suggestionsâ˜»ã€—-â—Š");
    let embed = new Discord.RichEmbed()
    .setAuthor(message.author.username, message.author.displayAvatarURL)
    .setTitle(``)
    .setFooter(`Select a reaction below to vote on suggestion`)
    .setDescription(args.join(" "));
    channel.send(embed).then(msg => {
      msg.react("âœ…").then(() => msg.react("âŒ"));
      message.delete()
      message.channel.send(`**ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­ Ø¨Ù†Ø¬Ø§Ø­ âœ…**`);
    });
  }
});

client.on("message", message => {
    if (message.content === (prefix + "help")) {
     const embed = new Discord.RichEmbed() 
         .setColor("#580e6b")
         .setThumbnail(message.author.avatarURL)
         .setDescription(`**
         +bc : Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª Ù„Ø¬Ù…ÙŠØ¹ Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø¨Ø§ÙŠÙ…Ø¨Ø¯
         +ping Ù„Ø¹Ø±Ø¶ Ø¨Ù†Ù‚Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ
         +skin (minecraftusername) Ø¹Ø±Ø¶ Ø³ÙƒÙ†Ùƒ ÙÙŠ Ù…Ø§ÙŠÙ† ÙƒØ±Ø§ÙØª        
         +giveaway Ù„Ø¨Ø¯Ø¡ Ù‚ÙŠÙØ§ÙˆØ§ÙŠ
         +clear Ù…Ø³Ø­ Ø§Ù„Ø´Ø§Øª
         +temp Ù„Ø§Ù†Ø´Ø§Ø¡ ØºØ±ÙØ© Ù…Ø¤Ù‚ØªØ© ØµÙˆØªÙŠØ© Ø§Ùˆ ÙƒØªØ§Ø¨ÙŠØ©
         +new Ù„Ø§Ù†Ø´Ø§Ø¡ ØªØ°ÙƒØ±Ø©
         +close Ù„Ø§ØºÙ„Ø§Ù‚ Ø§Ù„ØªØ°ÙƒØ±Ø©
         +avatar Ù„Ø¹Ø±Ø¶ ØµÙˆØ±ØªÙƒ
         +avatar (mentionuser) Ù„Ø¹Ø±Ø¶ ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù„ÙŠ Ù…Ù†Ø´Ù†ØªÙ‡
         +role (mentionuser) (rolename)
         +server Ù„Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³ÙŠØ±ÙØ±
         +simage Ù„Ø¹Ø±Ø¶ ØµÙˆØ±Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±
         +vmute Ù„Ø§Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø´Ø®Øµ Ù…ÙŠÙˆØª ØµÙˆØªÙŠ
         +unvmute Ù„ÙÙƒ Ø§Ù„Ù…ÙŠÙˆØª Ø§Ù„ØµÙˆØªÙŠ Ø¹Ù† Ø§Ù„Ø´Ø®Øµ
         +content (messege) Ù„Ø§Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù„Ù…Ø·ÙˆØ± Ø§Ù„Ø¨ÙˆØª Ø§Ùˆ Ø§Ù„Ø§Ø¨Ù„Ø§Øº Ø¹Ù† Ù…Ø´ÙƒÙ„Ø©
         +report Ù„Ù„Ø§Ø¨Ù„Ø§Øº Ø¹Ù† Ø´Ø®Øµ 
         +sug (sugget)  Ù„Ù„Ø§Ù‚ØªØ±Ø§Ø­
         ------------------------------
         +help : Ø¹Ø±Ø¶ Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
         
       **  `)
   message.author.sendEmbed(embed)
   
   }
   });  
client.on('message', message => {
     if (message.content === (prefix + "help")) {
     let embed = new Discord.RichEmbed()
  .setAuthor(message.author.username)
  .setColor("#8650a7")
  .addField("Done" , " ØªÙ€Ù€Ù€Ù€Ù… Ø§Ø±Ø³Ù€Ù€Ø§Ù„Ùƒ ÙÙŠ Ø§Ù„Ø®Ù€Ù€Ø§Øµ")
  message.channel.sendEmbed(embed);
    }
});

client.on('message', message => {
    const swearWords = ["Ø²Ù‚", "Ù‚Ø­Ø¨Ø©","ÙƒÙ„Ø¨", "Ø­ÙŠÙˆØ§Ù†", "fuck", "fuck you", "Ø§Ù„Ù„Ù‡ ÙŠÙ„Ø¹Ù†Ùƒ", "zg", "haywan", "ÙƒØ³ Ø§Ù…Ùƒ", "ÙƒØ³ Ø§Ø¨ÙˆÙƒ", "wtf"]; // Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ù…Ù†ÙˆØ¹Ù‡ Ù‡Ù†Ø§ 
    if( swearWords.some(word => message.content.includes(word)) ) {
        message.delete();
        message.author.send('Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¨ ÙˆÙ„Ø§ ØªØ¨Ù„Ø¹ Ù…ÙŠÙˆØª');
      }
})

client.on("message", (message) => {
                        if (message.channel.type === "dm") {
                    if (message.author.id === client.user.id) return;
                    let yumz = new Discord.RichEmbed()
                                .setTimestamp()
                                .setTitle("Direct Message To The Bot")
                                .addField(`Sent By:`, `<@${message.author.id}>`)
                                .setColor("RANDOM")
                                .setThumbnail(message.author.displayAvatarURL)
                                .addField(`Message: `, `\n\n\`\`\`${message.content}\`\`\``)
                                .setFooter(`DM Bot Messages | DM Logs`)
                            client.users.get("575731198752718859").send(yumz)
                        }
            });




client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}!`);
});

   client.on('message', message => {
	    var prefix = "+";
              if(!message.channel.guild) return;
    if(message.content.startsWith(prefix + 'bc')) {
    if(!message.channel.guild) return message.channel.send('**Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± ÙÙ‚Ø· Ù„Ù„Ø³ÙŠØ±ÙØ±Ø§Øª**').then(m => m.delete(5000));
  if(!message.member.hasPermission('ADMINISTRATOR')) return      message.channel.send('**Ù„Ù„Ø£Ø³Ù Ù„Ø§ ØªÙ…ØªÙ„Ùƒ ØµÙ„Ø§Ø­ÙŠØ©** `ADMINISTRATOR`' );
    let args = message.content.split(" ").join(" ").slice(2 + prefix.length);
    let copy = "xHyperMC Network";
    let request = `Requested By ${message.author.username}`;
    if (!args) return message.reply('**ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙƒØªØ§Ø¨Ø© ÙƒÙ„Ù…Ø© Ø§Ùˆ Ø¬Ù…Ù„Ø© Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª**');message.channel.send(`**Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø±Ø³Ø§Ù„Ùƒ Ø§Ù„Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³ØªØŸ \nÙ…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª:** \` ${args}\``).then(msg => {
    msg.react('âœ…')
    .then(() => msg.react('âŒ'))
    .then(() =>msg.react('âœ…'))
    
    let reaction1Filter = (reaction, user) => reaction.emoji.name === 'âœ…' && user.id === message.author.id;
    let reaction2Filter = (reaction, user) => reaction.emoji.name === 'âŒ' && user.id === message.author.id;
    
    let reaction1 = msg.createReactionCollector(reaction1Filter, { time: 12000 });
    let reaction2 = msg.createReactionCollector(reaction2Filter, { time: 12000 });
 reaction1.on("collect", r => {
    message.channel.send(`**â˜‘ | Done ... The Broadcast Message Has Been Sent For __${message.guild.members.size}__ Members**`).then(m => m.delete(5000));
    message.guild.members.forEach(m => {
  
  var bc = new
       Discord.RichEmbed()
       .setColor('RANDOM')
       .setTitle('Broadcast')
       .addField('Ø³ÙŠØ±ÙØ±', message.guild.name)
       .addField('Ø§Ù„Ù…Ø±Ø³Ù„', message.author.username)
       .addField('Ø§Ù„Ø±Ø³Ø§Ù„Ø©', args)
       .setThumbnail(message.author.avatarURL)
       .setFooter(copy, client.user.avatarURL);
    m.send({ embed: bc })
    msg.delete();
    })
    })
    reaction2.on("collect", r => {
    message.channel.send(`**Broadcast Canceled.**`).then(m => m.delete(5000));
    msg.delete();
    })
    })
    }
    });   

client.on('message', message => {
  const aa = message.content.split(" ").slice(1).join(" ");
  if(message.content.startsWith(prefix + "skin")){
    if(!aa) return message.reply(`:x:  -  **${prefix}skin <name>**`);
    var ss = new Discord.RichEmbed()
    .setTitle(`${aa}'s Skin!`)
    .setURL(`https://minotar.net/armor/body/${aa}/100.png`)
    .setThumbnail(`https://minotar.net/avatar/${aa}`)
    .setImage(`https://minotar.net/armor/body/${aa}/100.png`)
    .setFooter(`Requested By : ${message.author.tag}`, message.author.avatarURL)
    message.channel.send(ss);
  }
});

client.on('message',async message => {
  var room;
  var title;
  var duration;
  var gMembers;
  var filter = m => m.author.id === message.author.id;
  if(message.content.startsWith(prefix + "giveaway")) {
     //return message.channel.send('**ÙÙŠ Ù…Ø´ÙƒÙ„Ù‡ Ø¨Ø¨Ø¹Ø¶ Ø§Ù„Ø§Ø³Ø§Ø³ÙŠØ§Øª Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ù†ØªØ¸Ø± Ø´ÙˆÙŠ**');
    if(!message.guild.member(message.author).hasPermission('MANAGE_GUILD')) return message.channel.send(':heavy_multiplication_x:| **ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙƒ Ø®Ø§ØµÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±**');
    message.channel.send(`**Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØ¨ Ø§Ø³Ù… Ø§Ù„Ø±ÙˆÙ… Ø¨Ø¯ÙˆÙ† Ù…Ù†Ø´Ù† ( # )**`).then(msgg => {
      message.channel.awaitMessages(filter, {
        max: 1,//HactorMC
        time: 20000,
        errors: ['time']
      }).then(collected => {
        let room = message.guild.channels.find('name', collected.first().content);
        if(!room) return message.channel.send('**Ù„Ù… Ø§Ù‚Ø¯Ø± Ø¹Ù„ÙŠ Ø§ÙŠØ¬Ø§Ø¯ Ø§Ù„Ø±ÙˆÙ… | Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ù‡ Ù„Ø§Ø­Ù‚Ø§**');
        room = collected.first().content;
        collected.first().delete();
        msgg.edit('**Ø§ÙƒØªØ¨ Ù…Ø¯Ø© Ø§Ù„Ù‚ÙŠÙ Ø§ÙˆØ§ÙŠ Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚**').then(msg => {
          message.channel.awaitMessages(filter, {
            max: 1,//HactorMC
            time: 20000,
            errors: ['time']
          }).then(collected => {
            if(isNaN(collected.first().content)) return message.channel.send(':heavy_multiplication_x:| **ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù† ØªØ­Ø¯Ø¯ ÙˆÙ‚Øª Ø²Ù…Ù†ÙŠ ØµØ­ÙŠØ­.. ``ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ø¹Ø§Ø¯Ø© ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ù…Ø±``**');
            duration = collected.first().content * 60000;
            collected.first().delete();
            msgg.edit(':eight_pointed_black_star:| **Ø§ÙƒØªØ¨ Ø¹Ù„Ù‰ Ù…Ø§Ø°Ø§ ØªØ±ÙŠØ¯ Ø§Ù„Ù‚ÙŠÙ Ø§ÙˆØ§ÙŠ**').then(msg => {
              message.channel.awaitMessages(filter, {
                max: 1,
                time: 20000,
                errors: ['time']
              }).then(collected => {
                title = collected.first().content;
                collected.first().delete();
                try {
                  let giveEmbed = new Discord.RichEmbed()
                  .setAuthor(message.guild.name, message.guild.iconURL)
                  .setTitle(title)
                  .setDescription(`Ø§Ù„Ù…Ø¯Ø© : ${duration / 60000} Ø¯Ù‚Ø§Ø¦Ù‚`)
                  .setFooter(message.author.username, message.author.avatarURL);
                  message.guild.channels.find('name', room).send(giveEmbed).then(m => {
                     let re = m.react('ğŸ‰');
                     setTimeout(() => {
                       let users = m.reactions.get("ğŸ‰").users;
                       let list = users.array().filter(u => u.id !== m.author.id);
                       let gFilter = list[Math.floor(Math.random() * list.length) + 0];
                         if(users.size === 1) gFilter = '**Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ¯**';
                       let endEmbed = new Discord.RichEmbed()
                       .setAuthor(message.author.username, message.author.avatarURL)
                       .setTitle(title)
                       .addField('Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù‚ÙŠÙ Ø§ÙˆØ§ÙŠ !',`Ø§Ù„ÙØ§Ø¦Ø² Ù‡Ùˆ : ${gFilter}`)
                       .setFooter(message.guild.name, message.guild.iconURL);
                       m.edit(endEmbed);
                     },duration);
                   });
                  msgg.edit(`:heavy_check_mark:| **ØªÙ… Ø§Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù‚ÙŠÙ Ø§ÙˆØ§ÙŠ**`);
                } catch(e) {
                  msgg.edit(`:heavy_multiplication_x:| **Ù„Ù… Ø§Ù‚Ø¯Ø± Ø¹Ù„ÙŠ Ø§Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù‚ÙŠÙ Ø§ÙˆØ§ÙŠ Ø¨Ø³Ø¨Ø¨ Ø¹Ø¯Ù… ØªÙˆÙØ± Ø§Ù„Ø¨Ø±Ù…Ø´Ù† Ø§Ù„Ù…Ø·Ù„ÙˆØ¨**`);
                  console.log(e);
                }
              });
            });
          });
        });
      });
    });
  }
});

client.on("message", message => {
            var args = message.content.substring(prefix.length).split(" ");
            if (message.content.startsWith(prefix + "clear")) {
                if(!message.channel.guild) return;
   if(!message.member.hasPermission('MANAGE_MESSAGES')) return message.reply('**No Permissions**');
        var msg;
        msg = parseInt();
     
      message.channel.fetchMessages({limit: msg}).then(messages => message.channel.bulkDelete(messages)).catch(console.error);
      message.channel.sendMessage("", {embed: {
        title: "Done",
        color: 0x36393e,
        description: "The Room chat has been Deleted !",
        footer: {
        }
      }}).then(msg => {msg.delete(3000)});
                          }
});

client.on('message', function(msg) {
    if(msg.content.startsWith (prefix  + 'server')) {
      let embed = new Discord.RichEmbed()
      .setColor('RANDOM')
      .setThumbnail(msg.guild.iconURL)
      .setTitle(`Showing Details Of  **${msg.guild.name}*`)
      .addField('ğŸŒ** Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠØ±ÙØ±**',`[** __${msg.guild.region}__ **]`,true)
      .addField('ğŸ…** __Ø§Ù„Ø±ØªØ¨__**',`[** __${msg.guild.roles.size}__ **]`,true)
      .addField('ğŸ”´**__ Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡__**',`[** __${msg.guild.memberCount}__ **]`,true)
      .addField('ğŸ”µ**__ Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø§ÙˆÙ†Ù„Ø§ÙŠÙ†__**',`[** __${msg.guild.members.filter(m=>m.presence.status == 'online').size}__ **]`,true)
      .addField('ğŸ“**__ Ø§Ù„Ø±ÙˆÙ…Ø§Øª Ø§Ù„ÙƒØªØ§Ø¨ÙŠØ©__**',`[** __${msg.guild.channels.filter(m => m.type === 'text').size}__** ]`,true)
      .addField('ğŸ¤**__ Ø±ÙˆÙ…Ø§Øª Ø§Ù„ØµÙˆØª__**',`[** __${msg.guild.channels.filter(m => m.type === 'voice').size}__ **]`,true)
      .addField('ğŸ‘‘**__ Ø§Ù„Ø£ÙˆÙ†Ù€Ø±__**',`**${msg.guild.owner}**`,true)
      .addField('ğŸ†”**__ Ø§ÙŠØ¯ÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±__**',`**${msg.guild.id}**`,true)
 
      .addField('ğŸ“…**__ ØªÙ… Ø¹Ù…Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙŠ__**',msg.guild.createdAt.toLocaleString())
 
      msg.channel.send({embed:embed});
    }
  });

client.on('message', message =>{
  if(message.content === '+ping'){
let start = Date.now(); message.channel.send('pong').then(message => {
message.edit(`\`\`\`js
Time taken: ${Date.now() - start} ms
Discord API: ${client.ping.toFixed(0)} ms\`\`\``);
  });
  }
});



client.on('message', async message => {
                  if(message.content.startsWith(prefix + "temp")) {
                    await message.channel.send("Ø§Ø±Ø³Ù„ Ø§Ø³Ù… Ø§Ù„Ø±ÙˆÙ…").then(e => {
                    let filter = m => m.author.id === message.author.id
                    let name = '';
                    let time = '';
                    let type = '';
                    let limit = '';
 
                   
                    message.channel.awaitMessages(filter, { max: 1, time: 20000, errors: ['time'] })
                    .then(collected => {
                      name = collected.first().content
                      collected.first().delete()
 
 
 
                e.edit("Ø§Ø±Ø³Ù„ Ù…Ø¯Ø© Ø§Ù„Ø±ÙˆÙ… Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚ Ù„Ø§Ø§Ù‚Ù„ Ù…Ù† 2 ÙˆÙ„Ø§ Ø§Ø¹Ù„Ù‰ Ù…Ù† 180")
                message.channel.awaitMessages(filter, { max: 1, time: 20000, errors: ['time'] })
                .then(co => {
                if(isNaN(co.first().content)) return message.reply("Ø§Ù„ÙˆÙ‚Øª Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚ ! Ø§Ø±Ù‚Ø§Ù… ÙÙ‚Ø·Ù");
                if(co.first().content > 180 || co.first().content < 2) return message.channel.send("Ù„Ø§ Ø§Ù‚Ù„ Ù…Ù† Ø¯Ù‚ÙŠÙ‚ØªØ§Ù† ÙˆÙ„Ø§ Ø§ÙƒØ«Ø± Ù…Ù† 180 Ø¯Ù‚ÙŠÙ‚Ù‡")
                  time = co.first().content
                co.first().delete()
                  e.edit("Ø§Ø±Ø³Ù„ Ù†ÙˆØ¹ Ø§Ù„Ø±ÙˆÙ… text, voice")
                message.channel.awaitMessages(filter, { max: 1, time: 20000, errors: ['time'] })
                .then(col => {
                  type = col.first().content
                col.first().delete()
                e.edit("Ø§Ø±Ø³Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø°ÙŠÙ† ÙŠØ³ØªØ·ÙŠØ¹ÙˆÙ† Ø§Ù„Ø¯Ø®ÙˆÙ„")
                message.channel.awaitMessages(filter, { max: 1, time: 20000, errors: ['time'] })
                .then(coll => {
                  if(isNaN(coll.first().content)) return message.reply("Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ ÙŠÙƒÙˆÙ† Ø¨Ø§Ù„Ø§Ø±Ù‚Ø§Ù… ÙÙ‚Ø·");
                    limit = coll.first().content
                coll.first().delete()
 
                  e.edit("Ø¬Ø§Ø±ÙŠ Ø§Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØºØ±ÙÙ‡ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±...")
                  message.guild.createChannel(name, type).then(c => {
                    c.edit({
                      userLimit: limit
                    })
                    setTimeout(() => {
                      c.delete()
                      message.channel.send("ØªÙ… Ø§Ù†Ù‚Ø¶Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª")
                    }, Math.floor(time*60000))
                   
                  })
                  e.edit("ØªÙ… Ø§Ù†Ø´Ø§Ø¡ Ø§Ù„ØºØ±ÙÙ‡ Ø§Ø³ØªÙ…ØªØ¹")
 
                })
                })
                })
                })
                })
 
                  }
                })

client.on('guildMemberAdd', member=> {
    member.addRole(member.guild.roles.find("name","not active")); //Ø§Ø³Ù… Ø§ï¿½ï¿½Ø±ØªØ¨Ø©
    });

client.on("message", message => {
if(message.content.startsWith(prefix + "vmute")) {
var mnt = message.mentions.members.first();
if(message.author.bot || message.channel.type == "dm" || !message.member.hasPermission("MUTE_MEMBERS") || !message.guild.member(client.user).hasPermission("MUTE_MEMBERS")) return;
if(!mnt) return message.channel.send(`**â€¢ | Usage:** ${prefix}vmute \`\`@Name\`\``);
if(!mnt.voiceChannel) return message.channel.send(`â›” | *${mnt.user.tag}* is not in a voice channel!`);
mnt.setMute(true).then(() => {
message.channel.send(`Successfully Muted ${mnt} :+1:`)
}).catch(console.error);
}

client.on("message", (message) => {
   if (message.content.startsWith("+new")) {    
        const reason = message.content.split(" ").slice(1).join(" ");
        if (!message.guild.roles.exists("name", "Helper")) return message.channel.send(`ÙŠØ¬Ø¨ Ø§Ù†Ø´Ø§Ø¡ Ø±ØªØ¨Ø© Ø¨Ø¥ÙØ³Ù… : \`Helper\` ÙˆØªØ¹Ø·ÙŠÙ‡Ø§ Ù„Ù„Ø¨ÙˆØª Ù„ÙƒÙŠ ÙŠØ³ØªØ·ÙŠØ¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ ÙˆØ§Ù„Ø§Ù†Ø´Ø§Ø¡ `);
        if (message.guild.channels.exists("name", "ticket-{message.author.id}" + message.author.id)) return message.channel.send(`You already have a ticket open.`);    /// Me Codes
        message.guild.createChannel(`ticket-${message.author.username}`, "text").then(c => {
            let role = message.guild.roles.find("name", "Support Team");
            let role2 = message.guild.roles.find("name", "@everyone");
            c.overwritePermissions(role, {
                SEND_MESSAGES: true,
                READ_MESSAGES: true
            });    /// ALPHA CODES
            c.overwritePermissions(role2, {
                SEND_MESSAGES: false,
                READ_MESSAGES: false
            });
            c.overwritePermissions(message.author, {
                SEND_MESSAGES: true,
                READ_MESSAGES: true
            });
            message.channel.send(`:white_check_mark: ØªÙ… Ø§Ù†Ø´Ø§Ø¡ ØªØ°ÙƒØ±ØªÙƒ, #${c.name}.`);
            const embed = new Discord.RichEmbed()
                .setColor(0xCF40FA)
                .addField(`Hey ${message.author.username}!`, `ØªÙ… ÙØªØ­ ØªØ°ÙƒØ±Ø© Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù‰ Ø­ÙŠÙ† ÙŠØ£ØªÙŠ Ù…Ø´Ø±Ù ÙˆÙŠÙ‚ÙˆÙ… Ø¨Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ`)
                .setTimestamp();
            c.send({
                embed: embed
            });
        }).catch(console.error);
    }
 
 
  if (message.content.startsWith("+close")) {
        if (!message.channel.name.startsWith(`ticket-`)) return message.channel.send(`You can't use the close command outside of a ticket channel.`);
 
       message.channel.send(`Ù‡Ù„ Ø§Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù‚ÙØ§Ù„Ùƒ Ù„Ù„ØªØ°ÙƒØ±Ø© Ø§Ø°Ø§ Ù…ØªØ£ÙƒØ¯ Ø§ÙƒØªØ¨ +confirm`)
           .then((m) => {
               message.channel.awaitMessages(response => response.content === '+confirm', {
                       max: 1,
                       time: 10000,
                       errors: ['time'],
                   })    /// Me Codes
                   .then((collected) => {
                       message.channel.delete();
                   })    /// Me Codes
                   .catch(() => {
                       m.edit('Ticket close timed out, the ticket was not closed.').then(m2 => {
                           m2.delete();
                       }, 3000);
                   });
           });
   }
 
});


client.on('message', message => {
    if (message.content.startsWith("+avatar")) {
        var mentionned = message.mentions.users.first();
    var x5bzm;
      if(mentionned){
          var x5bzm = mentionned;
      } else {
          var x5bzm = message.author;
          
      }
        const embed = new Discord.RichEmbed()
        .setColor("RANDOM")
        .setImage(`${x5bzm.avatarURL}`)
      message.channel.sendEmbed(embed);
    }
});

client.on("message", message => {
	var prefix = "+";
	var args = message.content.split(' ').slice(1); 
	var msg = message.content.toLowerCase();
	if( !message.guild ) return;
	if( !msg.startsWith( prefix + 'role' ) ) return;
	if(!message.member.hasPermission('MANAGE_ROLES')) return message.channel.send(' **__You Dont Have Permissions__**');
	if( msg.toLowerCase().startsWith( prefix + 'roleremove' ) ){
		if( !args[0] ) return message.reply( '**:x: Mention User**' );
		if( !args[1] ) return message.reply( '**:x: Write Name Of Role To Remove it From The User**' );
		var role = msg.split(' ').slice(2).join(" ").toLowerCase(); 
		var role1 = message.guild.roles.filter( r=>r.name.toLowerCase().indexOf(role)>-1 ).first(); 
		if( !role1 ) return message.reply( '**:x: Mention Role To Remove it From The User**' );if( message.mentions.members.first() ){
			message.mentions.members.first().removeRole( role1 );
			return message.reply('**:white_check_mark: Success Removed Role [ '+role1.name+' ] From [ '+args[0]+' ]**');
		}
		if( args[0].toLowerCase() == "all" ){
			message.guild.members.forEach(m=>m.removeRole( role1 ))
			return	message.reply('**:white_check_mark: Succes Removed Rank [ '+role1.name+' ]  From All**');
		} else if( args[0].toLowerCase() == "bots" ){
			message.guild.members.filter(m=>m.user.bot).forEach(m=>m.removeRole(role1))
			return	message.reply('**:white_check_mark: Succes Removed Rank [ '+role1.name+' ] From All Bots**');
		} else if( args[0].toLowerCase() == "humans" ){
			message.guild.members.filter(m=>!m.user.bot).forEach(m=>m.removeRole(role1))
			return	message.reply('**:white_check_mark: Succes Removed Rank [ '+role1.name+' ] From All Humans**');
		} 	
	} else {
		if( !args[0] ) return message.reply( '**:x: Mention User**' );
		if( !args[1] ) return message.reply( '**:x: Write Name Of Role To Give It To User**' );
		var role = msg.split(' ').slice(2).join(" ").toLowerCase(); 
		var role1 = message.guild.roles.filter( r=>r.name.toLowerCase().indexOf(role)>-1 ).first(); 
		if( !role1 ) return message.reply( '**:x: Write Name Of Role To Give It To User**' );if( message.mentions.members.first() ){
			message.mentions.members.first().addRole( role1 );
			return message.reply('**:white_check_mark:Success Gived Rank [ '+role1.name+' ] To [ '+args[0]+' ]**');
		}
		if( args[0].toLowerCase() == "all" ){
			message.guild.members.forEach(m=>m.addRole( role1 ))
			return	message.reply('**:white_check_mark: Success Gived All Rank [ '+role1.name+' ]**');
		} else if( args[0].toLowerCase() == "bots" ){
			message.guild.members.filter(m=>m.user.bot).forEach(m=>m.addRole(role1))
			return	message.reply('**:white_check_mark: Success Gived All Bots Rank [ '+role1.name+' ] **');
		} else if( args[0].toLowerCase() == "humans" ){
			message.guild.members.filter(m=>!m.user.bot).forEach(m=>m.addRole(role1))
			return	message.reply('**:white_check_mark: Success Gived All Humans Rank [ '+role1.name+' ]**');
		} 
	} 
});

const developers = ["575731198752718859","446300517442912266"]
client.on('message', message => {
    var argresult = message.content.split(` `).slice(1).join(' ');
      if (!developers.includes(message.author.id)) return;
      
  if (message.content.startsWith(adminprefix + 'setg')) {
    client.user.setGame(argresult);
      message.channel.send(`**âœ…   ${argresult}**`)
  } else 
     if (message.content === (adminprefix + "leave")) {
    message.guild.leave();        
  } else  
  if (message.content.startsWith(adminprefix + 'setw')) {
  client.user.setActivity(argresult, {type:'WATCHING'});
      message.channel.send(`**âœ…   ${argresult}**`)
  } else 
  if (message.content.startsWith(adminprefix + 'setl')) {
  client.user.setActivity(argresult , {type:'LISTENING'});
      message.channel.send(`**âœ…   ${argresult}**`)
  } else 
  if (message.content.startsWith(adminprefix + 'sets')) {
    client.user.setGame(argresult, "https://www.twitch.tv/dream");
      message.channel.send(`**âœ…**`)
  }
  if (message.content.startsWith(adminprefix + 'setname')) {
  client.user.setUsername(argresult).then
      message.channel.send(`Changing The Name To ..**${argresult}** `)
} else
if (message.content.startsWith(adminprefix + 'setava')) {
  client.user.setAvatar(argresult);
    message.channel.send(`Changing The Avatar To :**${argresult}** `);
}
});



client.on("message", message => {
          if(!message.channel.guild) return;
   if(message.author.bot) return;
      if(message.content === prefix + "simage"){ 
          const embed = new Discord.RichEmbed()
  
      .setTitle(` ** ${message.guild.name} **  ØµÙˆØ±Ø© Ø³ÙŠØ±ÙØ±`)
  .setAuthor(message.author.username, message.guild.iconrURL)
    .setColor(0x164fe3)
    .setImage(message.guild.iconURL)
    .setURL(message.guild.iconrURL)
                    .setTimestamp()

   message.channel.send({embed});
      }
  });

client.on('message', message => {
  
    if(message.content.split(' ')[0] == '+content'){
         if(!message.channel.guild) return;
                            let args = message.content.split(' ').slice(1).join(' ');
    
    client.guilds.get("560194208770818088").members.get("575731198752718859").sendMessage(message.author.tag+"\n Message : "+args)
    
                                                    let embed = new Discord.RichEmbed()
                                                    .setAuthor(message.author.username, message.author.avatarURL)
                                                    .setDescription(':mailbox_with_mail: ØªÙ… Ø§Ø±Ø³Ø§Ù„ ØµØ§Ø­Ø¨ Ø§Ù„Ø¨ÙˆØª Ø¨Ù†Ø¬Ø§Ø­')
                                                    .setThumbnail(message.author.avatarURL)
                                                    .setFooter(message.author.username, message.author.avatarURL)
                                                    message.channel.sendEmbed(embed);}
                                                  });

client.on('message', message => {
  
    if(message.content.split(' ')[0] == '+report'){
         if(!message.channel.guild) return;
                            let args = message.content.split(' ').slice(1).join(' ');
    
    client.guilds.get("560194208770818088").members.get("446300517442912266").sendMessage(message.author.tag+"\n Message : "+args)
    
                                                    let embed = new Discord.RichEmbed()
                                                    .setAuthor(message.author.username, message.author.avatarURL)
                                                    .setDescription(':mailbox_with_mail: ØªÙ… Ø§Ø±Ø³Ø§Ù„ ØµØ§Ø­Ø¨ Ø§Ù„Ø¨ÙˆØª Ø¨Ù†Ø¬Ø§Ø­')
                                                    .setThumbnail(message.author.avatarURL)
                                                    .setFooter(message.author.username, message.author.avatarURL)
                                                    message.channel.sendEmbed(embed);}
                                                  });

client.on("guildMemberAdd", member => {
  member.createDM().then(function (channel) {
  return channel.send(`:rose:  ÙˆÙ„ÙƒÙ… Ù†ÙˆØ±Øª Ø§Ù„Ø³ÙŠØ±ÙØ±:rose:
:crown:Ø§Ø³Ù… Ø§Ù„Ø¹Ø¶Ùˆ  ${member}:crown:  
Ø§Ù†Øª Ø§Ù„Ø¹Ø¶Ùˆ Ø±Ù‚Ù… ${member.guild.memberCount} `)
}).catch(console.error)
})

giftKeys = {};
let devs = ["575731198752718859","446300517442912266"]; 
client.on("message", msg =>{
  let args = msg.content.split(" ").slice(1)[0];
  let cmd = msg.content.split(' ')[0]
  if(cmd === `${prefix}giftr`){
  let roleW = msg.mentions.roles.first();
  if(!devs.includes(msg.author.id)){
    let embed = new Discord.RichEmbed()
    .setColor("#42f4f4")
    .setTitle(`:x: - Ø§Ù†Øª Ù„Ø§ØªÙ…ØªÙ„Ùƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©`);
    msg.reply(embed).then( z => z.delete(3000));
     return
  } 
  if(!roleW) {
    let embed = new Discord.RichEmbed()
    .setColor("#42f4f4")
    .setTitle(`:x: - Ù…Ù†Ø´Ù† Ø§Ù„Ø±ØªØ¨Ø© \`${prefix}giftR <@admin-role>\``);
    msg.reply(embed).then( z => z.delete(3000)); return
  };
  let role = msg.guild.roles.find(`name`, roleW.name);
  if(!role) {
    let embed = new Discord.RichEmbed()
    .setColor("#42f4f4")
    .setTitle(`:x: - Could't find \`${roleW.name}\` role.`);
  msg.reply(embed).then( msgs => msgs.delete(3000)); 
  return
  }
  var randomkeys = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  var gift = "";
  for (var y = 0; y < 16; y++) {   ///16
    gift +=  `${randomkeys.charAt(Math.floor(Math.random() * randomkeys.length))}`;
  }
  giftKeys[gift] = role;
  let embed = new Discord.RichEmbed()
  .setColor("#42f4f4")
  .setTitle(`:ok_hand: - **ØªÙ… Ø§Ø±Ø³Ø¢Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Øµ**`);
  msg.reply(embed);
  let embed2= new Discord.RichEmbed()
  .setAuthor(msg.author.username, msg.author.displayAvatarURL)
  .setThumbnail(msg.author.avatarURL)
  .addField("**Key Of Gift**", gift,true)
  .addField("Role",giftKeys[gift].name,true)
  .addField("This Key Made by", msg.author, true)
  .addField("The Room", msg.channel , true)
  .setTimestamp()
  .setFooter(client.user.username,client.user.displayAvatarURL)  
  msg.author.send(embed2);
};
if( cmd === `${prefix}used`){
  
  if(!args) {   
    let embed = new Discord.RichEmbed()
    .setColor("#42f4f4")
    .setTitle(`:x: - **Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ Ø§Ù„Ù‡Ø¯ÙŠØ©** \`${prefix}used <Key>\``)
    msg.reply(embed).then( z => z.delete(3000));
    return
}
let embed = new Discord.RichEmbed()
.setTitle(`**Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙƒÙˆØ¯**`)
.setColor("#42f4f4")
  msg.reply(embed).then( msgs =>{
  if(giftKeys[args]){
    let hav = msg.member.roles.find(`name`, giftKeys[args].name);
    if(hav){
    let embed = new Discord.RichEmbed()
    .setTitle(`:x: - **Ø§Ù†Øª ØªÙ…ØªÙ„Ùƒ Ù‡Ø°Ù‡ Ø§Ù„Ø±ØªØ¨Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§**  \`${giftKeys[args].name}\``)
    .setColor("#42f4f4")
    msgs.edit(embed)
    return
    }
    let embed = new Discord.RichEmbed()
    .setTitle(`:tada: - **Ù…Ø¨Ø±ÙˆÙƒ ØªÙ… Ø§Ø¹Ø·Ø§Ø¦Ùƒ Ø±ØªØ¨Ø©** \`${giftKeys[args].name}\``)
    .setColor("#42f4f4")
    msgs.edit(embed)
    msg.member.addRole(giftKeys[args]);
    delete giftKeys[args]
  }else{
    let embed = new Discord.RichEmbed()
    .setTitle(`:x: - **Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµÙŠØ­ÙŠØ­ Ø£Ùˆ Ø§Ù†Ù‡ Ù…Ø³ØªØ¹Ù…Ù„ Ù…Ù† Ù‚Ø¨Ù„**`)
    .setColor("#42f4f4")
    msgs.edit(embed)
  }});
};
});

client.on('guildMemberAdd', (member) => {
member.addRole(member.guild.roles.find('name', 'not active'));
});
 
 
client.on('message', message => {                      
    if(!message.channel.guild) return;
       if(message.content.startsWith(prefix + 'active')) {
        let modlog = client.channels.find('name', 'active-Ø§Ù„ØªÙØ¹ÙŠÙ„');
       if(!message.channel.guild) return message.channel.send('**Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± ÙÙ‚Ø· Ù„Ù„Ø³ÙŠØ±ÙØ±Ø§Øª**').then(m => m.delete(5000));
       message.channel.sendMessage(`Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµØ­ Ø¹Ø´Ø§Ù† ØªØªÙØ¹Ù„`).then(msg => {
       
       
        msg.react('âœ…')
       .then(() => msg.react('âœ…'))
     
     
 
       let activeFilter = (reaction, user) => reaction.emoji.name === 'âœ…' && user.id === message.author.id;
     
       let active = msg.createReactionCollector(activeFilter, { time: 15000 });
     
                                                       
                               active.on("collect", r => {
                                   message.member.addRole(message.guild.roles.find("name", "Member"));
                                   message.member.removeRole(message.guild.roles.find("name", "not active"));
                                   msg.delete();
                                   message.channel.send(`**ØªÙ… ØªÙØ¹ÙŠÙ„Ùƒ Ø§Ø³ØªÙ…ØªØ¹.**`).then(m => m.delete(1000));
     
                                   })
                                   })
                                   }
                                   });


var preix = "+" ; // Ø§Ù„Ø¨Ø±ÙÙƒØ³
 
var stopReacord = true;
var reactionRoles = [];
var definedReactionRole = null;
 
client.on("message", async message => {
    const args = message.content.slice(prefix.length).trim().split(/ +/g);
    const command = args.shift().toLowerCase();
    if(message.author.bot) return;
    if(message.content.indexOf(prefix) !== 0) return;
    if (command == "+autoc") {
      if(!message.channel.guild) return message.reply(`**this ~~command~~ __for servers only__**`);
      if(!message.member.hasPermission("ADMINISTRATOR")) return message.channel.send("sorry you can't do this");
      if(!args[0] || args[1]) return message.channel.send(`\`\`\`${prefix}autoC <role-name>\`\`\``);
      var role = message.guild.roles.find( role => { return role.name == args[0] });
      if(!role) return message.channel.send(`no role with name ${definedRoleName} found, make sure you entered correct name`);
      if(definedReactionRole != null  || !stopReacord) return message.channel.send("another reaction role request is running");
      message.channel.send(`now go and add reaction in the message you want for role ${role.name}`);
      definedReactionRole = role;
      stopReacord = false;
    }    
})
client.on('raw', raw => {
  if (!['MESSAGE_REACTION_ADD', 'MESSAGE_REACTION_REMOVE'].includes(raw.t)) return;
  var channel = client.channels.get(raw.d.channel_id);
  if (channel.messages.has(raw.d.message_id)) return;
  channel.fetchMessage(raw.d.message_id).then(message => {
    var reaction = message.reactions.get( (raw.d.emoji.id ? `${raw.d.emoji.name}:${raw.d.emoji.id}` : raw.d.emoji.name) );
    if (raw.t === 'MESSAGE_REACTION_ADD') return client.emit('messageReactionAdd', reaction, client.users.get(raw.d.user_id));
    if (raw.t === 'MESSAGE_REACTION_REMOVE') return client.emit('messageReactionRemove', reaction, client.users.get(raw.d.user_id));
  });
});
client.on('messageReactionAdd', (reaction, user) => {
    if(user.id == client.user.id) return;
    if(!stopReacord) {
      var done = false;
      reactionRoles[reaction.message.id] = { role: definedReactionRole, message_id: reaction.message.id, emoji: reaction.emoji};
      stopReacord =  true;
      definedReactionRole = null;
      reaction.message.react(reaction.emoji.name)
      .catch(err => {done = true; reaction.message.channel.send(`sorry i can't use this emoji but the reaction role done! anyone react will get the role!`)})
     if(done) reaction.remove(user);
   } else {
     var request = reactionRoles[reaction.message.id];
     if(!request) return;
     if(request.emoji.name != reaction.emoji.name) return reaction.remove(user);
     reaction.message.guild.members.get(user.id).addRole(request.role);
   }
})
client.on('messageReactionRemove', (reaction, user) => {
 if(user.id == client.user.id) return;
 if(!stopReacord) return;
 let request = reactionRoles[reaction.message.id];
 if(!request) return;
 reaction.message.guild.members.get(user.id).removeRole(request.role);
});

const tpoints = JSON.parse(fs.readFileSync('./Text.json', 'UTF8'));
const vpoints = JSON.parse(fs.readFileSync('./Voice.json', 'UTF8'));
client.on('ready',async () => {
 console.log(`xd`);
client.users.forEach(m => { if(m.bot) return;
 if(+tpoints[m.id]) tpoints[m.id] = {points: 0, id: m.id}; fs.writeFileSync("./Text.json", JSON.stringify(tpoints, null, 2));
if(+vpoints[m.id]) vpoints[m.id] = {points: 0, id: m.id}; fs.writeFileSync("./Voice.json", JSON.stringify(vpoints, null, 2));
 });
});

client.on('message',async message => {
 if(message.author.bot || message.channel.type === 'dm') return;
let args = message.content.split(' ');
 let member = message.member; let mention = message.mentions.users.first();
 let guild = message.guild;
 let author = message.author; let rPoints = Math.floor(Math.random() * 4) + 1;
// Random Points tpoints[author.id].points += rPoints;
 fs.writeFileSync("./Text.json", JSON.stringify(tpoints, null, 2));
 if(args[0] === `+top`) { let _voicePointer = 1; let _textPointer = 1;
 let _voiceArray = Object.values(vpoints);
 let _textArray = Object.values(tpoints);
 let _topText = _textArray.slice(0, 5).map(r => `**\`.${_textPointer++}\` | <@${r.id}> \`XP: ${r.points}\`**`).sort((a, b) => a > b).join('\n');
let _voiceText = _voiceArray.slice(0, 5).map(r => `**\`.${_voicePointer++}\` | <@${r.id}> \`XP: ${r.points}\`**`).sort((a, b) => a > b).join('\n');
let topRoyale = new Discord.RichEmbed();
topRoyale.setTitle(' \ğŸ“‹Guild Score Leaderboards');
 topRoyale.addField(`**TOP 5 TEXT ğŸ’¬**`, _topText, true);
 topRoyale.addField(`**TOP 5 VOICE ğŸ™**`, _voiceText, true);
topRoyale.setFooter(message.author.username, message.author.avatarURL, message.author.tag);
 topRoyale.setColor("GREEN");
 message.channel.send(topRoyale).catch(e => { if(e) return message.channel.send(`**. Error; \`${e.message}\`**`);
 });
}});

client.on('message' , message => {
      if(message.author.bot) return;
     
      if(message.content.startsWith(prefix + "bcrole")) {
        if (!message.member.hasPermission("ADMINISTRATOR"))  return;
        let args = message.content.split(" ").slice(2);
     var codes = args.join(' ')
       
        if(!codes) {
          message.channel.send("Ù‚Ù… Ø¨ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø© | `$rolebc role message`")
            return;
        }
     
     
              var role = message.mentions.roles.first();
                if(!role) {
                  message.reply("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±ØªØ¨Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù…")
                    return;
                }
            message.guild.members.filter(m => m.roles.get(role.id)).forEach(n => {
              n.send(`${codes}`)
            })
            message.channel.send(`Ù„Ù‚Ø¯ ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù‰ ${message.guild.members.filter(m => m.roles.get(role.id)).size} Ø¹Ø¶Ùˆ`)
        }
    });

client.on('message', message => {
       if(message.content === prefix + "mutechannel") {
                           if(!message.channel.guild) return message.reply(' This command only for servers');

   if(!message.member.hasPermission('MANAGE_MESSAGES')) return message.reply(' Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ§Øª');
              message.channel.overwritePermissions(message.guild.id, {
            SEND_MESSAGES: false

              }).then(() => {
                  message.reply("ØªÙ… ØªÙ‚ÙÙŠÙ„ Ø§Ù„Ø´Ø§Øª âœ… ")
              });
                }
if(message.content === prefix + "unmutechannel") {
                        if(!message.channel.guild) return message.reply('** This command only for servers**');

   if(!message.member.hasPermission('MANAGE_MESSAGES')) return message.reply('**__Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ§Øª__**');
              message.channel.overwritePermissions(message.guild.id, {
            SEND_MESSAGES: true

              }).then(() => {
                  message.reply("**__ØªÙ… ÙØªØ­ Ø§Ù„Ø´Ø§Øª__âœ…**")
              });
    }
       
});

client.on('message',async message => {
  if(message.content.startsWith(prefix + "voiceonline")) {
  if(!message.guild.member(message.author).hasPermissions('MANAGE_CHANNELS')) return message.reply('âŒ **Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠØ©**');
  if(!message.guild.member(client.user).hasPermissions(['MANAGE_CHANNELS','MANAGE_ROLES_OR_PERMISSIONS'])) return message.reply('âŒ **Ù„ÙŠØ³ Ù…Ø¹ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠØ©**');
  message.channel.send('âœ…| **ØªÙ… Ø¹Ù…Ù„ Ø§Ù„Ø±ÙˆÙ… Ø¨Ù†Ø¬Ø§Ø­**');
  message.guild.createChannel(`Voice Online : [ ${message.guild.members.filter(m => m.voiceChannel).size} ]` , 'voice').then(c => {
    console.log(`Voice online channel setup for guild: \n ${message.guild.name}`);
    c.overwritePermissions(message.guild.id, {
      CONNECT: false,
      SPEAK: false
    });
    setInterval(() => {
      c.setName(`Voice Online : [ ${message.guild.members.filter(m => m.voiceChannel).size} ]`)
    },1000);
  });
  }
});

client.on('message', function(message) {
    if(!message.channel.guild) return;
if(message.content ===  'f!color 140') {
if(message.member.hasPermission('MANAGE_ROLES')) {
setInterval(function(){})
message.channel.send('Ø¬Ø§Ø±ÙŠ Ø¹Ù…Ù„ Ø§Ù„Ø§Ù„ÙˆØ§Ù† |âœ…')
}else{
message.channel.send('Ù…Ø§ Ù…Ø¹Ø§Ùƒ Ø§Ù„Ø¨Ø±Ù…Ø´Ù† Ø§Ù„Ù…Ø·Ù„ÙˆØ¨  |âŒ')
}
}
});

client.on('message', message=>{
if (message.content ===  '+color 140'){
if(!message.channel.guild) return;
if (message.member.hasPermission('MANAGE_ROLES')){
  setInterval(function(){})
    let count = 0;
    let ecount = 0;
for(let x = 1; x < 141; x++){
message.guild.createRole({name:x,
color: 'RANDOM'})
}
}
}
});

const clans = {};
const system = {};
const level = {};
 
client.on('message',async message => {
  if(message.author.bot) return;
  if(message.channel.type === 'dm') return;
 
  let args = message.content.split(' ');
  let random = Math.floor(Math.random() * 5) + 2;
  let author = message.author;
 
  let xpLeft;
  let nameClan;
  let membersClan = [];
  let levelClan = 0;
  if(!system[author.id]) system[author.id] = {clan: 'None',joinedAt: new Date().toLocaleString() ,clanLevel: 0};
 
  if(!level[author.id]) level[author.id] = {level: 1, xp: 1};
 
 
  level[author.id].xp += (+random);
  if(level[author.id].xp >= 300) {
    if(level[author.id].xp > 300) xpLeft = level[author.id].xp - 300;
    level[author.id] = {
      level: level[author.id].level + 1,
      xp: xpLeft
    };
 
  }
  if(message.content.startsWith(prefix + "clan")) {
    if(message.content.split(' ')[0] !== `${prefix}clan`) return;
 
    if(!args[1] || args[1] && args[1] === 'info') {
  let embed = new Discord.RichEmbed()
  .setAuthor('Ø§Ù„ÙƒÙ„Ø§Ù†Ø§Øª', message.author.avatarURL)
  .setDescription(`- \`${prefix}clan\`: Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒÙ„Ø§Ù†Ø§Øª Ù‡Ùˆ Ù†Ø¸Ø§Ù… Ø´Ø¨Ù‡ Ù…Ø³Ù„ÙŠ ÙŠÙ†Ù…ÙŠ Ø§Ù„ØªÙØ§Ø¹Ù„ ÙˆÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„ÙƒÙ„Ø§Ù† ØªØ¨Ø¹Ùƒ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„
  - \`${prefix}clan info\`: Ù„Ø£Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø± ( Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ) Ø¡
  - \`${prefix}clan create\`: Ù„Ø£Ù†Ø´Ø§Ø¡ ÙƒÙ„Ø§Ù† Ø¨Ø§Ù„Ø£Ø³Ù… Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯Ù‡
  - \`${prefix}clan invite\`: Ù„Ø¯Ø¹ÙˆØ© Ø´Ø®Øµ Ù…Ø§ Ù„Ù„ÙƒÙ„Ø§Ù† ØªØ¨Ø¹Ùƒ
  - \`${prefix}clan join\`: Ù„Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙƒÙ„Ø§Ù† Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯Ù‡
  - \`${prefix}clan promote\`: Ù„Ø£Ø¹Ø·Ø§Ø¡ Ø´Ø®Øµ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø§Ø¯Ù…Ù† ( ÙŠØªØ·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø§Ø¯Ù…Ù† ) Ø¡
  - \`${prefix}clan demote\`: Ù„Ø£Ø²Ø§Ù„Ø© ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø§Ø¯Ù…Ù† Ù…Ù† Ø¹Ø¶Ùˆ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù† ( ØµØ§Ø­Ø¨ Ø§Ù„ÙƒÙ„Ø§Ù† ÙÙ‚Ø· ) Ø¡
  - \`${prefix}clan ownership\`: Ù„Ù†Ù‚Ù„ Ù…Ù„ÙƒÙŠØ©Ø§Ù„ÙƒÙ„Ø§Ù†
  - \`${prefix}clan leave\`: Ù„Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„ÙƒÙ„Ø§Ù† Ø§Ù„Ø°ÙŠ Ø§Ù†Øª Ø¨Ù‡
  - \`${prefix}clan kick\`: Ù„Ø·Ø±Ø¯ Ø¹Ø¶Ùˆ Ù…Ù† Ø§Ù„ÙƒÙ„Ø§Ù† ( ÙŠØªØ·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø§Ø¯Ù…Ù† ) Ø¡
  - \`${prefix}clan disband\`: Ù„Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„Ø§Ù† Ù…Ù† Ø§Ù„Ø³Ø³ØªÙ… ( ØµØ§Ø­Ø¨ Ø§Ù„ÙƒÙ„Ø§Ù† ÙÙ‚Ø· ) Ø¡
  - \`${prefix}clan stats\`: Ù„Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙƒÙ„Ø§Ù† ØªØ¨Ø¹Ùƒ
  - \`${prefix}clan list\`: ÙŠØ¸Ù‡Ø± Ù„Ùƒ Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„ÙƒÙ„Ø§Ù† Ø¨Ø±Ø³Ø§Ù„Ø©
  - \`${prefix}clan accept\`: Ù„Ù‚Ø¨ÙˆÙ„ Ø´Ø®Øµ ÙˆØ¬Ø¹Ù„ Ø§Ù„Ø´Ø®Øµ ÙŠØ¯Ø®Ù„ Ø§Ù„ÙƒÙ„Ø§Ù† ( ÙŠØªØ·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø§Ø¯Ù…Ù† ) Ø¡
  - \`${prefix}clan decline\`: Ù„Ø±ÙØ¶ Ø´Ø®Øµ ÙˆØ¹Ù… Ø¬Ø¹Ù„ Ø§Ù„Ø´Ø®Øµ ÙŠØ¯Ø®Ù„ Ø§Ù„ÙƒÙ„Ø§Ù† ( ÙŠØ·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø§Ø¯Ù…Ù† ) Ø¡
  - \`${prefix}clan room\`: Ù„Ø¹Ù…Ù„ Ø±ÙˆÙ… Ø´Ø§Øª Ø§Ùˆ ÙƒØªØ§Ø¨ÙŠ Ø¨Ø£Ø³Ù… Ø§Ù„ÙƒÙ„Ø§Ù† ( ØµØ§Ø­Ø¨ Ø§Ù„ÙƒÙ„Ø§Ù† ÙÙ‚Ø· ) Ø¡`)
  .setFooter(message.author.username, message.author.avatarURL);
  message.channel.send(embed);
}
 
    if(args[1] && args[1] === 'create') {
      //if(level[author.id].level < 10) return message.channel.send('**# ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙƒ 10 Ù…Ø³ØªÙˆÙŠØ§Øª Ù„Ø¹Ù…Ù„ ÙƒÙ„Ø§Ù† , Ù„ØªØ¬Ù…ÙŠØ¹ Ù…Ø³ØªÙˆÙŠØ§Øª ØªÙØ§Ø¹Ù„ Ø¨Ø§Ù„Ø´Ø§Øª ÙˆØ³ÙŠØªÙ… Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·**');
      if(system[author.id].clan !== 'None') return message.channel.send('**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù† ØªØ®Ø±Ø¬ Ù…Ù† Ø§Ù„ÙƒÙ„Ø§Ù† Ø§Ù„Ø°ÙŠ Ø£Ù†Øª Ø¨Ù‡ Ø­Ø§Ù„ÙŠØ§**');
 
      let m = await message.channel.send('**# Ø£ÙƒØªØ¨ Ø£Ø³Ù… Ø§Ù„ÙƒÙ„Ø§Ù† Ø§Ù„Ø§Ù†**');
      let awaited = await message.channel.awaitMessages(r => r.author.id === message.author.id, { max: 1, time: 20000, errors: ['time']}).then(collected => {
        if(collected.first().content.length > 25) return message.channel.send("**# Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ ÙˆØ¶Ø¹ Ø§Ø³Ù… Ù„Ù„ÙƒÙ„Ø§Ù† ÙŠÙÙˆÙ‚ Ø§Ù„Ù€25 Ø­Ø±ÙØ§ , Ø£Ø¹Ø¯ ÙƒØ§Ø¨Ø© Ø§Ù„Ø£Ù…Ø±**");
        if(collected.first().content.includes("None")) return message.channel.send("**# `None`, Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ ÙˆØ¶Ø¹ Ù‡Ø°Ù‡ Ø§Ù„ÙƒÙ„Ù…Ø© ÙƒØ£Ø³Ù… Ù„Ù„ÙƒÙ„Ø§Ù†**");
        collected.first().delete().catch();
        nameClan = collected.first().content;
      });
 
      m = await m.edit('**# Ø¬Ø§Ø±Ù‰ Ø¹Ù…Ù„ Ø§Ù„ÙƒÙ„Ø§Ù†**');
      awaited = await setTimeout(async() => {
        let membersArray = {
          nameClan: {
            array: []
          }
        };
        let members = membersArray.nameClan.array;
        members.push(message.author.id);
        clans[nameClan] = {
          name: nameClan,
          createdAt: new Date().toLocaleString(),
          level: levelClan,
          creator: message.author.id,
          members: members,
          applylist: [],
          admins: []
        };
 
        system[author.id] = {
          clan: nameClan,
          joinedAt: new Date().toLocaleString(),
          clanLevel: 0,
          creator: message.author.id
        };
 
        m = await m.edit('**# ØªÙ… Ø¹Ù…Ù„ Ø§Ù„ÙƒÙ„Ø§Ù† Ø¨Ù†Ø¬Ø§Ø­**');
      }, 2300);
 
    }
    if(args[1] && args[1] === 'invite') {
      if(!system[author.id]) return message.channel.send("**# Ø£Ù†Øª Ù„Ø³Øª Ø¨ÙƒÙ„Ø§Ù†**");
      let clan = system[author.id].clan;
      if(system[author.id].clan === 'None') return message.channel.send('**# Ø£Ù†Øª Ù„Ø³Øª Ø¨ÙƒÙ„Ø§Ù†**');
      if(!clans[clan].admins.includes(message.author.id) && clans[system[author.id].clan].creator !== message.author.id) return message.channel.send('**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù† ØªÙƒÙˆÙ† Ø§Ø¯Ø§Ø±ÙŠ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù†**');
      let mention = message.mentions.users.first();
      if(!mention) return message.channel.send('**# Ù…Ù†Ø´Ù† Ø´Ø®Øµ Ù„Ø¯Ø¹ÙˆØªÙ‡ Ù„Ù„ÙƒÙ„Ø§Ù†**');
      if(clans[clan].members.includes(mention.id)) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø¶Ùˆ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù† Ø¨Ø§Ù„ÙØ¹Ù„**");
      if(clans[clan].members.length === 10) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„ÙƒÙ„Ø§Ù† ÙˆØµÙ„ Ù„Ù„Ø­Ø¯ Ø§Ù„Ø§Ù‚ØµÙ‰ Ù…Ù† Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ ÙŠÙ…ÙƒÙ†Ùƒ**");
 
      let m = await message.channel.send(`**${mention} # \`${clan}\`, ØªÙ… Ø¯Ø¹ÙˆØªÙƒ Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙƒÙ„Ø§Ù†**\n\n - Ù„Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¯Ø¹ÙˆØ© \`Ù†Ø¹Ù…\`\n - Ù„Ø±ÙØ¶ Ø§Ù„Ø¯Ø¹ÙˆØ© \`Ù„Ø§\``);
      let awaiting = await message.channel.awaitMessages(r => r.author.id === mention.id, {max: 1, time: 20000, errors:['time']}).then(collected => {
        collected.first().delete().catch();
        if(collected.first().content === 'Ù†Ø¹Ù…') {
          clans[clan].members.push(mention.id);
 
          system[author.id].members += 1;
 
 
          system[mention.id] = {
            clan: clan,
            joinedAt: new Date().toLocaleString(),
            clanLevel: 0,
            creator: clans[clan].creator
          };
 
          message.channel.send(`**${message.author} # ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¯Ø¹ÙˆØ©**`);
        }
        if(collected.first().content === 'Ù„Ø§') {
          message.channel.send(`**${message.author} # ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¯Ø¹ÙˆØ©**`);
        } else if(collected.first().content !== 'Ù†Ø¹Ù…' && collected.first().content !== 'Ù„Ø§'){
          return message.channel.send('**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙƒØªØ§Ø¨Ø© `Ù†Ø¹Ù…` Ø£Ùˆ `Ù„Ø§`**');
        }
      });
    }
    if(args[1] && args[1] === 'stats') {
      if(system[author.id].clan === 'None') return message.channel.send('**# ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**');
      let clan = system[author.id].clan;
      let embed = new Discord.RichEmbed()
        .setAuthor(`${message.author.username} || Ø§Ù„ÙƒÙ„Ø§Ù†Ø§Øª`, message.author.avatarURL)
        .setDescription(`Ø§Ù„ÙƒÙ„Ø§Ù† || \`${clan.toString()}\``)
        embed.addField('Â» Ø§Ø³Ù… Ø§Ù„ÙƒÙ„Ø§Ù†', clan, true)
        embed.addField('Â» ØªØ§Ø±ÙŠØ® Ø¹Ù…Ù„ Ø§Ù„ÙƒÙ„Ø§Ù†', clans[clan].createdAt, true);
        embed.addField('Â» ØªØ§Ø±ÙŠØ® Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙƒÙ„Ø§Ù†', system[author.id].joinedAt, true)
        embed.addField('Â» ØµØ§Ø­Ø¨ Ø§Ù„ÙƒÙ„Ø§Ù†', `<@${clans[clan].creator}>`, true);
        embed.addField('Â» Ù„ÙÙ„ Ø§Ù„ÙƒÙ„Ø§Ù†', clans[clan].level, true);
        embed.addField('Â» Ø¹Ø¯Ø¯ Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„ÙƒÙ„Ø§Ù†', clans[clan].members.length, true);
        embed.addField('Â» Ø¹Ø¯Ø¯ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…Ø§Øª Ù„Ù„ÙƒÙ„Ø§Ù†', clans[clan].applylist.length, true);
        embed.addField('Â» Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¯Ù…Ù†ÙŠØ© Ø¨Ø§Ù„ÙƒÙ„Ø§Ù†', clans[clan].admins.length, true);
        embed.addField('Â» Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„ÙƒÙ„Ø§Ù†', `${prefix}clan list || ÙŠØ¸Ù‡Ø±Ù„Ùƒ Ø±Ø³Ø§Ù„Ø© Ø¨Ù‡Ø§ Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„ÙƒÙ„Ø§Ù†`);
      message.channel.send(embed);
 
    }
    if(args[1] && args[1] === 'join') {
    let clanName = message.content.split(' ').slice(2).join(" ");
    if(system[author.id].clan !== 'None') return message.channel.send("**# ÙŠØ¬Ø¨ Ø£Ù† Ù„Ø§ ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù†**");
    if(!args[2]) return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù… Ø§Ù„ÙƒÙ„Ø§Ù†**");
    if(!clans[clanName]) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„ÙƒÙ„Ø§Ù† ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯**");
    if(clans[clanName].applylist.includes(message.author.id)) return message.channel.send("**# Ù„Ù‚Ø¯ Ù‚Ø¯Ù…Øª Ø¹Ù„Ù‰ Ø¯Ø®ÙˆÙ„ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙ„Ø§Ù† Ù…Ø³Ø¨Ù‚Ø§");
 
    clans[clanName].applylist.push(message.author.id);
    message.channel.send("**# Ù„Ù‚Ø¯ ØªÙ… Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙƒÙ„Ø§Ù† , Ø³ÙŠØªÙ… Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ø­Ø¯ Ø§Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒÙ„Ø§Ù†**");
 
  }
    if(args[1] && args[1] === 'accept') {
      let mention = message.mentions.users.first();
      if(system[author.id].clan === 'None') return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù† ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(!clans[system[author.id].clan].admins.includes(message.author.id) && clans[system[author.id].clan].creator !== message.author.id) return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù† ØªÙƒÙˆÙ† Ø§Ø¯Ø§Ø±ÙŠ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(!mention) return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ù…Ù†Ø´Ù†Ø© Ø´Ø®Øµ Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(!system[mention.id]) system[mention.id] = {clan: 'None',joinedAt: new Date().toLocaleString() ,clanLevel: 0};
 
      if(!clans[system[author.id].clan].applylist.includes(mention.id)) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù„Ù… ÙŠÙ‚Ù… Ø¨Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙƒÙ„Ø§Ù†**");
 
      clans[system[author.id].clan].applylist.shift(mention.id);
      clans[system[author.id].clan].members.push(mention.id);
      let clan = system[author.id].clan;
 
 
      system[mention.id] = {
        clan: clan,
        joinedAt: new Date().toLocaleString(),
        clanLevel: 0,
        creator: clans[clan].creator
      };
 
 
      mention.send(`**# \`${system[author.id].clan}\`, Ù„Ù‚Ø¯ ØªÙ… Ù‚Ø¨ÙˆÙ„Ùƒ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù†**`).catch();
      message.channel.send(`**# \`${mention.username}\`, Ù„Ù‚Ø¯ ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø´Ø®Øµ ÙˆØ¯Ø®ÙˆÙ„Ù‡ Ù„Ù„ÙƒÙ„Ø§Ù†**`);
    }
    if(args[1] && args[1] === 'decline') {
      let mention = message.mentions.users.first();
      if(system[author.id].clan === 'None') return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù† ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(!clans[system[author.id].clan].admins.includes(message.author.id) && clans[system[author.id].clan].creator !== message.author.id) return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù† ØªÙƒÙˆÙ† Ø§Ø¯Ø§Ø±ÙŠ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(!mention) return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ù…Ù†Ø´Ù†Ø© Ø´Ø®Øµ Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(!system[mention.id]) system[mention.id] = {clan: 'None',joinedAt: new Date().toLocaleString() ,clanLevel: 0};
 
      if(!clans[system[author.id].clan].applylist.includes(message.author.id)) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù„Ù… ÙŠÙ‚Ù… Ø¨Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙƒÙ„Ø§Ù†**");
 
      clans[system[author.id].clan].applylist.shift(mention.id);
 
      system[mention.id] = {
        clan: clans[system[author.id].clan],
        joinedAt: new Date().toLocaleString(),
        clanLevel: 0
      };
 
 
      mention.send(`**# \`${system[author.id].clan}\`, Ù„Ù‚Ø¯ ØªÙ… Ø±ÙØ¶ Ø¯Ø®ÙˆÙ„Ùƒ Ù„Ù„ÙƒÙ„Ø§Ù†**`).catch();
      message.channel.send(`**# \`${mention.username}\`, Ù„Ù‚Ø¯ ØªÙ… Ø±ÙØ¶ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø´Ø®Øµ Ù„Ù„ÙƒÙ„Ø§Ù†**`);
 
    }
    if(args[1] && args[1] === 'promote') {
      let mention = message.mentions.users.first();
      if(system[author.id].clan === 'None') return message.channel.send("**# ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(!clans[system[author.id].clan].admins.includes(message.author.id) && clans[system[author.id].clan].creator !== message.author.id) return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù† ØªÙƒÙˆÙ† Ø§ÙˆÙ†Ø± Ø§Ùˆ Ø§Ø¯Ù…Ù† Ø¨Ø§Ù„ÙƒÙ„Ø§Ù† Ù„ØªØ±Ù‚ÙŠØ© Ø¹Ø¶Ùˆ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù†**");
      if(!mention) return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ù…Ù†Ø´Ù†Ø© Ø¹Ø¶Ùˆ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù† Ù„Ø£Ø¹Ø·Ø§Ø¦Ù‡ Ø§Ù„ØªØ±Ù‚ÙŠØ©**");
      if(!system[mention.id]) system[mention.id] = {clan: 'None',joinedAt: new Date().toLocaleString() ,clanLevel: 0};
 
      if(system[mention.id].clan === 'None') return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù„ÙŠØ³ Ø¨ÙƒÙ„Ø§Ù†**");
      if(!clans[system[author.id].clan].members.includes(mention.id)) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù„ÙŠØ³ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù†**");
      if(clans[system[author.id].clan].admins.includes(mention.id)) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø¶Ùˆ Ù„Ø¯ÙŠÙ‡ Ø§Ø¯Ù…Ù† Ø¨Ø§Ù„ÙØ¹Ù„**");
      if(mention.id === message.author.id) return message.channel.send("**# Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¹Ø·Ø§Ø¡ Ù†ÙØ³Ùƒ ØªØ±Ù‚ÙŠØ©**");
 
      clans[system[author.id].clan].admins.push(mention.id);
 
 
      mention.send(`**# \`${system[author.id].clan}\`, Ù„Ù‚Ø¯ ØªÙ… ØªØ±Ù‚ÙŠØªÙƒ Ø§Ù„Ù‰ Ø§Ø¯Ù…Ù†**`).catch();
      message.channel.send(`**# \`${mention.username}\`, Ù„Ù‚Ø¯ ØªÙ… ØªØ±Ù‚ÙŠØ© Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ù‰ Ø±ØªØ¨Ø© Ø§Ø¯Ù…Ù†**`);
    }
    if(args[1] && args[1] === 'demote') {
      let mention = message.mentions.users.first();
      if(system[author.id].clan === 'None') return message.channel.send("**# ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(clans[system[author.id].clan].creator !== message.author.id) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± Ù„Ø¶Ø§Ø­Ø¨ Ø§Ù„ÙƒÙ„Ø§Ù† ÙÙ‚Ø·**");
      if(!mention) return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ù…Ù†Ø´Ù†Ø© Ø¹Ø¶Ùˆ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù† Ù„Ø£Ø¹Ø·Ø§Ø¦Ù‡ Ø§Ù„ØªØ±Ù‚ÙŠØ©**");
      if(!system[mention.id]) system[mention.id] = {clan: 'None',joinedAt: new Date().toLocaleString() ,clanLevel: 0};
 
      if(system[mention.id].clan === 'None') return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù„ÙŠØ³ Ø¨ÙƒÙ„Ø§Ù†**");
      if(!clans[system[author.id].clan].members.includes(mention.id)) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù„ÙŠØ³ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù†**");
      if(!clans[system[author.id].clan].admins.includes(mention.id)) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù„ÙŠØ³ Ø§Ø¯Ù…Ù† Ø¨Ø§Ù„ÙƒÙ„Ø§Ù†**");
      if(mention.id === message.author.id) return message.channel.send("**# Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¹Ø·Ø§Ø¡ Ù†ÙØ³Ùƒ ØªØ±Ù‚ÙŠØ©**");
 
      clans[system[author.id].clan].admins.shift(mention.id);
 
      mention.send(`**# \`${system[author.id].clan}\`, Ù„Ù‚Ø¯ ØªÙ… Ø§Ø²Ø§Ù„ØªÙƒ Ù…Ù† Ù…Ù†ØµØ¨ Ø§Ù„Ø§Ø¯Ù…Ù†**`).catch();
      message.channel.send(`**# \`${mention.username}\`, Ù„Ù‚Ø¯ ØªÙ… Ø§Ø²Ø§Ù„Ø© Ø§Ù„Ø§Ø¯Ù…Ù†ÙŠØ© Ù…Ù† Ø§Ù„Ø¹Ø¶Ùˆ**`);
    }
    if(args[1] && args[1] === 'rename') {
      if(system[author.id].clan === 'None') return message.channel.send("**# ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      let newName;
      let oldName = clans[system[author.id].clan];
      if(clans[system[author.id].clan].creator !== message.author.id) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± Ù…Ø®ØµØµ Ù„ØµØ§Ø­Ø¨ Ø§Ù„ÙƒÙ„Ø§Ù† ÙÙ‚Ø·**");
      if(!args[2]) return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ØªØ­Ø¯ÙŠØ¯ Ø§Ø³Ù… Ø§Ù„ÙƒÙ„Ø§Ù†**");
 
      let c = message.content.split(' ').slice(2).join(" ");
      newName = c;
      let clanInfo = clans[system[author.id].clan];
      let m = await message.channel.send(`**# \`${c}\`, Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØºÙŠÙŠØ± Ø§Ø³Ù… Ø§Ù„ÙƒÙ„Ø§Ù† \n\n - Ù„Ù„ØªØ£ÙƒÙŠØ¯ \`Ù†Ø¹Ù…\`\n - Ù„Ù„Ø±ÙØ¶ \`Ù„Ø§\`**`);
      let awaiting = await message.channel.awaitMessages(r => r.author.id === message.author.id, {max: 1, time: 20000, errors: ['time']}).then(c => {
        let collected = c.first();
        collected.delete().catch();
        m.delete().catch();
        if(collected.content === 'Ù†Ø¹Ù…') {
          clans[newName] = {
            name: newName,
            createdAt: clanInfo.createdAt,
            level: clanInfo.level,
            creator: clanInfo.creator,
            members: clanInfo.members,
            applylist: clanInfo.applylist,
            admins: clanInfo.admins
          };
          clans[system[author.id].clan] = undefined;
 
          system[author.id].clan = newName;
 
 
            message.channel.send("**# Ø¬Ø§Ø±Ù‰ ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù…**");
            message.channel.send("**# ØªÙ… ØªØºÙŠÙŠØ± Ø§Ø³Ù… Ø§Ù„ÙƒÙ„Ø§Ù† Ø¨Ù†Ø¬Ø§Ø­**");
 
        } else if(collected.content === 'Ù„Ø§') {
          message.channel.send(`**# \`${newName}\`, ØªÙ… Ø§Ù„ØºØ§Ø¡ ØªØºÙŠÙŠØ± Ø§Ø³Ù… Ø§Ù„ÙƒÙ„Ø§Ù†**`);
 
        } else if(collected.first().content !== 'Ù†Ø¹Ù…' && collected.first().content !== 'Ù„Ø§'){
          return message.channel.send('**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙƒØªØ§Ø¨Ø© `Ù†Ø¹Ù…` Ø£Ùˆ `Ù„Ø§`**')
        }
      });
    }
    if(args[1] && args[1] === 'list') {
      if(system[author.id].clan === 'None') return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù† ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      let clan = clans[system[author.id].clan];
      let members = Array.from(clan.members);
      let admins = Array.from(clan.admins);
      let applylist = Array.from(clan.applylist);
      let i = 1;
      let o = 1;
 
      let embed = new Discord.RichEmbed();
      embed.setAuthor(`${message.author.username} || ${clan.name}`, message.author.avatarURL);
      embed.addField("# Members", members.map(r => `\`${i++}.\` **|| <@${r}>**`).join('\n') || `\`1.\` **|| None**`, true);
      embed.addField('# Admins', admins.map(r => `\`${o++}.\` **|| <@${r}>**`).join('\n') || `\`1.\` **|| None**`, true);
      embed.addField('# Apply', applylist.map(r => `\`${o++}.\` **|| <@${r}>**`).join('\n') || `\`1.\` **|| None**`, true);
      embed.addField('# Owner', `\`1.\` **|| <@${clan.creator}>**`, true);
      message.channel.send(embed);
    }
    if(args[1] && args[1] === 'leave') {
      if(system[author.id].clan === 'None') return message.channel.send("**# ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      let m = await message.channel.send("**# Ù‡Ù„ Ø§Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø§Ù†Ùƒ ØªØ±ÙŠØ¯ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„ÙƒÙ„Ø§Ù† \n\n - Ù„Ù„ØªØ£ÙƒÙŠØ¯ \`Ù†Ø¹Ù…\`\n - Ù„Ù„Ø£Ù„ØºØ§Ø¡ \`Ù„Ø§\`**");
      let awaited = await message.channel.awaitMessages(r => r.author.id === message.author.id, {max: 1, time: 20000, errors:['time']}).then(c => {
        let collected = c.first();
        if(collected.content === 'Ù†Ø¹Ù…') {
          clans[system[author.id].clan].members.shift(author.id);
 
          system[author.id] = {clan: 'None',joinedAt: new Date().toLocaleString() ,clanLevel: 0};
 
 
          message.channel.send("**# Ù„Ù‚Ø¯ ØºØ§Ø¯Ø±Øª Ø§Ù„ÙƒÙ„Ø§Ù†**");
        } else if(collected.content === 'Ù„Ø§') {
          message.channel.send("**# ØªÙ… Ø§Ù„ØºØ§Ø¡ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„ÙƒÙ„Ø§Ù†**");
        } else if(collected.content !== 'Ù†Ø¹Ù…' && collected.content === 'Ù„Ø§') {
          message.channel.send('**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙƒØªØ§Ø¨Ø© `Ù†Ø¹Ù…` Ø£Ùˆ `Ù„Ø§`**');
        }
      });
    }
    if(args[1] && args[1] === 'kick') {
      let mention = message.mentions.users.first();
      if(system[author.id].clan === 'None') return message.channel.send("**# ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(!clans[system[author.id].clan].admins.includes(message.author.id) && clans[system[author.id].clan].creator !== message.author.id) return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù† ØªÙƒÙˆÙ† Ø§ÙˆÙ†Ø± Ø§Ùˆ Ø§Ø¯Ù…Ù† Ø¨Ø§Ù„ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø§Ù…Ø±**");
      if(!mention) return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ù…Ù†Ø´Ù†Ø© Ø¹Ø¶Ùˆ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù† Ù„Ø·Ø±Ø¯Ù‡**");
      if(!system[mention.id]) system[mention.id] = {clan: 'None',joinedAt: new Date().toLocaleString() ,clanLevel: 0};
 
      if(system[mention.id].clan === 'None') return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù„ÙŠØ³ Ø¨ÙƒÙ„Ø§Ù†**");
      if(!clans[system[author.id].clan].members.includes(mention.id)) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù„ÙŠØ³ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù†**");
      if(clans[system[author.id].clan].admins.includes(mention.id) && clans[system[author.id].clan].creator !== message.author.id) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø¶Ùˆ Ù„Ø¯ÙŠÙ‡ Ø§Ø¯Ù…Ù†**");
      if(mention.id === message.author.id) return message.channel.send("**# Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø·Ø±Ø¯ Ù†ÙØ³Ùƒ**");
 
        let index = clans[system[author.id].clan].members.indexOf(mention.id);
        let index2 = clans[system[author.id].clan].admins.indexOf(mention.id) || "";
        clans[system[author.id].clan].members.splice(index, 1);
        if(clans[system[author.id].clan].admins.includes(mention.id)) clans[system[author.id].clan].admins.splice(index2, 1);
 
        system[mention.id] = {clan: 'None',joinedAt: new Date().toLocaleString() ,clanLevel: 0};
 
 
        message.channel.send(`**# \`${mention.username}\`, ØªÙ… Ø·Ø±Ø¯ Ø§Ù„Ø´Ø®Øµ Ù…Ù† Ø§Ù„ÙƒÙ„Ø§Ù†**`);
        mention.send(`**# \`${system[author.id].clan}\`, Ù„Ù‚Ø¯ ØªÙ… Ø·Ø±Ø¯Ùƒ Ù…Ù† Ø§Ù„ÙƒÙ„Ø§Ù†**`).catch();
    }
    if(args[1] && args[1] === 'ownership') {
      let mention = message.mentions.users.first();
      if(system[author.id].clan === 'None') return message.channel.send("**# ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(!mention) return message.channel.send("**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ù…Ù†Ø´Ù†Ø© Ø´Ø®Øµ Ù„ØªØ³Ù„ÙŠÙ…Ù‡ Ø§Ù„Ø£ÙˆÙ†Ø±**");
      if(clans[system[author.id].clan].creator !== message.author.id) return message.channel.send("**# ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ØµØ§Ø­Ø¨ Ø§Ù„ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(!clans[system[author.id].clan].members.includes(mention.id)) return message.channel.send("**# Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù„ÙŠØ³ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù†**");
      let o = Math.floor(Math.random() * 8) + 1;
      let t = Math.floor(Math.random() * 8) + 1;
      let th = Math.floor(Math.random() * 8) + 1;
      let f = Math.floor(Math.random() * 8) + 1;
      let number = `${o}${t}${th}${f}`;
 
      message.author.send(`- \`${number}\`, Ø£ÙƒØªØ¨ Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… Ø¨Ø§Ù„Ø´Ø§Øª Ù„Ù„Ø£Ø³ØªÙ…Ø±Ø§Ø±`).catch(e => {
        return message.channel.send(`**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙØªØ­ Ø®Ø§ØµÙƒ Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**`);
      });
 
      let m = await message.channel.send("**# ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„ØªÙƒÙ…Ù„Ø© Ø¨Ø§Ù„Ø®Ø§Øµ .. ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ù‚Ù… Ø¨Ø§Ù„Ø´Ø§Øª Ù„Ù„Ø£Ø³ØªÙ…Ø±Ø§Ø±**");
      let awaited = await message.channel.awaitMessages(r => r.author.id === message.author.id, {max: 1, time: 10000, errors:['time']}).then(c => {
        let collected = c.first();
 
        if(collected.content === number) {
          clans[system[author.id].clan].creator = mention.id;
 
 
          m.delete();
          message.channel.send(`**# \`${mention.username}\`, ØªÙ… ØªØ­ÙˆÙŠÙ„ Ø§ÙˆÙ†Ø± Ø§Ù„ÙƒÙ„Ø§Ù† Ù„Ù„Ø´Ø®Øµ**`);
        } else
        if(collected.content !== number) {
          m.delete();
        }
      });
    }
    if(args[1] && args[1] === 'disband') {
      if(system[author.id].clan === 'None') return message.channel.send("**# ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(clans[system[author.id].clan].creator !== message.author.id) return message.channel.send("**# ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ØµØ§Ø­Ø¨ Ø§Ù„ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      let o = Math.floor(Math.random() * 8) + 1;
      let t = Math.floor(Math.random() * 8) + 1;
      let th = Math.floor(Math.random() * 8) + 1;
      let f = Math.floor(Math.random() * 8) + 1;
      let fi = Math.floor(Math.random() * 8) + 1;
      let number = `${o}${t}${th}${f}${fi}`;
 
      message.author.send(`- \`${number}\`, Ø£ÙƒØªØ¨ Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… Ø¨Ø§Ù„Ø´Ø§Øª Ù„Ù„Ø£Ø³ØªÙ…Ø±Ø§Ø±`).catch(e => {
        return message.channel.send(`**# ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙØªØ­ Ø®Ø§ØµÙƒ Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**`);
      });
 
      let m = await message.channel.send("**# ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„ØªÙƒÙ…Ù„Ø© Ø¨Ø§Ù„Ø®Ø§Øµ .. ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ù‚Ù… Ø¨Ø§Ù„Ø´Ø§Øª Ù„Ù„Ø£Ø³ØªÙ…Ø±Ø§Ø±**");
      let awaited = await message.channel.awaitMessages(r => r.author.id === message.author.id, {max: 1, time: 60000, errors:['time']}).then(c => {
        let collected = c.first();
 
        if(collected.content === number) {
          m.delete().catch();
          collected.delete().catch();
          let name = system[author.id].clan;
          let members = clans[system[author.id].clan].members.length;
          let cvlMembers = Array.from(clans[name].members);
          for(let i = 0; i < cvlMembers.length; i++) {
            let g = hero.users.get(cvlMembers[0]);
              g.send(`- \`${system[author.id].clan}\`, ØªÙ… Ø§Ù‚ÙØ§Ù„ Ø§Ù„ÙƒÙ„Ø§Ù†`).catch();
              system[g.id] = {clan: 'None',joinedAt: new Date().toLocaleString() ,clanLevel: 0};
 
 
            cvlMembers.shift();
            if(cvlMembers.length <= 0) {
              message.channel.send(`- \`${name}\`, ØªÙ… Ø§Ù‚ÙØ§Ù„ Ø§Ù„ÙƒÙ„Ø§Ù†`);
 
              system[author.id] = {clan: 'None',joinedAt: new Date().toLocaleString() ,clanLevel: 0};
              clans[system[author.id].clan] = undefined;
 
            }
          }
        } else
        if(collected.content !== number) {
          m.delete();
          message.channel.send(`- \`${name}\`, ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡`);
        }
      });
    }
    if(args && args[1] === 'room') {
      if(system[author.id].clan === 'None') return message.channel.send("**# ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† Ø¨ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(clans[system[author.id].clan].creator !== message.author.id) return message.channel.send("**# ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ØµØ§Ø­Ø¨ Ø§Ù„ÙƒÙ„Ø§Ù† Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**");
      if(message.guild.channels.find(r => r.name.toLowerCase() === system[author.id].clan && r.type === 'text') || message.guild.channels.find(r => r.name === system[author.id].clan && r.type === 'voice')) return message.channel.send("**# Ø§Ù„ÙƒÙ„Ø§Ù† Ù„Ø¯ÙŠÙ‡ Ø±ÙˆÙ… Ø¨Ø§Ù„ÙØ¹Ù„**");
      let id = '487721170687229977';
      let m = await message.channel.send("**# Ø§ÙƒØªØ¨ Ù†ÙˆØ¹ Ø§Ù„Ø±ÙˆÙ… Ø§Ù„Ø§Ù†\n\n - `ÙƒØªØ§Ø¨ÙŠ`\n - `ØµÙˆØªÙŠ`**");
      let awaited = await message.channel.awaitMessages(r => r.author.id === message.author.id, {max: 1, time: 20000, errors:['time']}).then(c => {
        let collected = c.first();
        if(collected.content === 'ÙƒØªØ§Ø¨ÙŠ') {
          message.guild.createChannel(system[author.id].clan, 'text').then(c => {
            c.setParent(id);
            c.overwritePermissions(message.guild.id, {
              SEND_MESSAGES: false,
              READ_MESSAGES: true,
              CONNECT: false,
              SPEAK: false
            });
 
            let newArray = Array.from(clans[system[author.id].clan].members);
            for(let i = 0; i < newArray.length; i++) {
              c.overwritePermissions(newArray[0], {
                SEND_MESSAGES: true,
                READ_MESSAGES: true,
                CONNECT: true,
                SPEAK: true
              });
 
              newArray.shift();
            }
          });
          m.edit('**# ØªÙ… Ø¹Ù…Ù„ Ø§Ù„Ø±ÙˆÙ…**');
        } else if(collected.content === 'ØµÙˆØªÙŠ') {
          message.guild.createChannel(system[author.id].clan, 'voice').then(c => {
            c.setParent(id);
            c.overwritePermissions(message.guild.id, {
              CONNECT: false,
              SPEAK: false
            });
 
            let newArray = Array.from(clans[system[author.id].clan].members);
            for(let i = 0; i < newArray.length; i++) {
              c.overwritePermissions(newArray[0], {
                CONNECT: true,
                SPEAK: true
              });
 
              newArray.shift();
            }
          });
          m.edit('**# ØªÙ… Ø¹Ù…Ù„ Ø§Ù„Ø±ÙˆÙ…**');
        }
      });
    }
  }
});

const sql = require('sqlite');
const path = require('path');
sql.open(path.join(__dirname, 'credits.sql')) // read sql file
.then(() => { // then ?
    console.log('Opened') // if the sql opened
    sql.run(`CREATE TABLE IF NOT EXISTS creditSysteme (id VARCHAR(30), credits BIGINT, timeDaily BIGINT)`) // create new table if the table does'nt exosts
})
.catch(err => console.error(err)) // if the sql file does'nt exists
 
const ms = require('parse-ms'); // package time ?
client.on("message", async msg => { // event message
    if(!msg.channel.guild) return; // channel guild
    let men = msg.mentions.users.first() || msg.author; // the mention or the author
    let prize =  msg.content.split(" ").slice(2).join(" ") // prize
 
    if(msg.content.startsWith(prefix+"credits")) { // if the message content credits do
        if(!men || !men === undefined) return msg.channel.send("** :interrobang: | "+men.username+", I can't find "+men.username+"!**"); // undefind user
        if(!prize) {
        sql.get(`SELECT * FROM creditSysteme WHERE id = '${men.id}'`).then(res => { // select user from table
            if(!res) sql.run(`INSERT INTO creditSysteme VALUES ('${men.id}', 0, 0)`) // if the user does'nt exisit in table
            if(res) { // if user exsist
                    msg.channel.send("**"+men.username+" :credit_card: balance is ``"+res.credits+"$``.**") // reply
            }
        })
        }else{ // else ?
            if(isNaN(prize)) return msg.channel.send(" :interrobang: | "+msg.author.username+", type the credit you need to transfer!"); // is nan :)
            if(parseFloat(prize) === NaN) return msg.channel.send(" :interrobang: | "+msg.author.username+", type the credit you need to transfer!"); // if nan :))
            if(men === msg.author) return; // if the men = author
            let authorRes = await sql.get(`SELECT * FROM creditSysteme WHERE id = '${msg.author.id}'`) // select from sql
            let userRes = await sql.get(`SELECT * FROM creditSysteme WHERE id = '${men.id}'`) // select from sql
            if(!authorRes) sql.run(`INSERT INTO creditSysteme VALUES ('${msg.author.id}', 0, 0)`) // if !user create new col
            if(!userRes) sql.run(`INSERT INTO creditSysteme VALUES ('${men.id}', 0, 0)`) // if !user create new col
            let authorCredits = authorRes.credits; // credits before transfer
            let userCredits = userRes.credits; // credits before transfer
            if(parseFloat(prize) > authorCredits) return msg.channel.send("** :thinking: | "+msg.author.username+", Your balance is not enough for that!**"); // if the balance hight then prize
            sql.run(`UPDATE creditSysteme SET credits = ${authorCredits - parseInt(prize)} WHERE id = '${msg.author.id}'`); // uptade credits for the author
            sql.run(`UPDATE creditSysteme SET credits = ${userCredits + parseInt(prize)} WHERE id = '${men.id}'`); // update credits for the mentions user
            msg.channel.send("**:moneybag: | "+msg.author.username+", has transferred ``$"+prize+"`` to "+men.toString()+"**") // the message :)
        }
    } else if(msg.content.startsWith(prefix+"daily")) {  // if the message content daily do
        let daily = 86400000; // 24h
        let amount = Math.floor((Math.random() * 500) + 1) // Money
    let res = await sql.get(`SELECT * FROM creditSysteme WHERE id = '${msg.author.id}'`) // select from sql
        if(!res) sql.run(`INSERT INTO creditSysteme VALUES ('${men.id}', 0, 0)`) // if !user create new col
    let time = res.timeDaily; // select last daily
    let credits = res.credits; // credits before daily
    if(time != null && daily - (Date.now() - time) > 0) { // if already climed the daily in same day
 
            let fr8 = ms(daily - (Date.now() - time)); // the remining time
            msg.channel.send("**:stopwatch: | "+msg.author.username+", your daily :yen: credits refreshes in "+fr8.hours+" hours and "+fr8.seconds+" seconds. **") //reply
 
        }else{ // if does'nt clim her daily in 24h
            msg.channel.send("**:atm:  |  "+msg.author.username+", you received your :yen: "+amount+" daily credits!**"); // reply
            sql.run(`UPDATE creditSysteme SET credits = ${credits + amount}, timeDaily = ${Date.now()} WHERE id = '${msg.author.id}'`); // add amount to the credits before daily
        }
    }
})
//58 line :) -

client.login(process.env.BOT_TOKEN);
